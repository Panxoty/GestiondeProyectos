!function(){function e(e,n,o){const a=document.querySelector(".alerta");a&&a.remove();const t=document.createElement("div");t.classList.add("alerta",n),t.textContent=e,o.parentElement.insertBefore(t,o.nextElementSibling),setTimeout(()=>{t.remove()},3e3)}document.querySelector("#agregar-tarea").addEventListener("click",(function(){const n=document.createElement("div");n.classList.add("modal"),n.innerHTML='\n            <form class="formulario nueva-tarea">\n                <legend>Añade una nueva tarea</legend>\n                <div class="campo">\n                    <label>Nombre</label>\n                    <input type="text" placeholder="Nombre de la tarea" name="nombre" id="nombre">\n                </div>\n                <div class="campo">\n                    <label for="lider">Lider</label>\n                    <select name="lider" id="lider">\n                        <option disabled selected>-- Seleccione --</option>\n                        <option value="Pedro">Pedro</option>\n                        <option value="Ariel">Ariel</option>\n                    </select>\n                </div>\n                <div class="campo">\n                    <label>Especialista</label>\n                    <select name="especialista" id="especialista">\n                        <option disabled selected>-- Seleccione --</option>\n                        <option value="Francisco"> Francisco</option>\n                        <option value="David"> David</option>\n                        <option value="Bastian"> Bastian</option>\n                    </select>\n                </div>\n                <div class="campo">\n                    <label for="area">Area</label>\n                    <select name="area" id="area">\n                        <option disabled selected>-- Seleccione --</option>\n                        <option value="backend"> Backend</option>\n                        <option value="frontend"> Frontend</option>\n                    </select>\n                </div>\n                <div class="campo">\n                    <label>Fecha Inicio</label>\n                    <input type="date" name="fecha_inicio" id="fecha_inicio">\n                </div>\n                <div class="campo">\n                    <label>Fecha Termino</label>\n                    <input type="date" name="fecha_fin" id="fecha_fin">\n                </div>\n                <div class="opciones">\n                    <input type="submit" class="submit-nueva-tarea" value="Añadir Tarea">\n                    <button type="button" class="cerrar-modal">Cancelar</button>\n                </div>\n            </form>\n        ',setTimeout(()=>{document.querySelector(".formulario").classList.add("animar")},0),n.addEventListener("click",o=>{if(o.preventDefault(),o.target.classList.contains("cerrar-modal")){document.querySelector(".formulario").classList.add("cerrar"),setTimeout(()=>{n.remove()},300)}o.target.classList.contains("submit-nueva-tarea")&&function(){const n=document.querySelector("#nombre").value.trim(),o=document.querySelector("#lider").value.trim(),a=document.querySelector("#especialista").value.trim(),t=document.querySelector("#area").value.trim(),r=document.querySelector("#fecha_inicio").value.trim(),i=document.querySelector("#fecha_fin").value.trim();if(""===n)return void e("El nombre de la tarea es obligatorio","error",document.querySelector(".formulario legend"));if("-- Seleccione --"===o)return void e("Debe seleccionar un lider","error",document.querySelector(".formulario legend"));if("-- Seleccione --"===a)return void e("Debe seleccionar un especialista","error",document.querySelector(".formulario legend"));if("-- Seleccione --"===t)return void e("Debe seleccionar un area","error",document.querySelector(".formulario legend"));if(""===r)return void e("Debe seleccionar una fecha de inicio","error",document.querySelector(".formulario legend"));if(""===i)return void e("Debe seleccionar una fecha de termino","error",document.querySelector(".formulario legend"));!async function(n,o,a,t,r,i){const c=new FormData;c.append("nombre",n),c.append("lider",o),c.append("especialista",a),c.append("area",t),c.append("fecha_inicio",r),c.append("fecha_fin",i),c.append("proyectoId",function(){const e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries()).url}());try{const n="http://localhost:3000/api/tarea",o=await fetch(n,{method:"POST",body:c}),a=await o.json();if(console.log(a),e(a.mensaje,a.tipo,document.querySelector(".formulario legend")),"exito"===a.tipo){const e=document.querySelector(".modal");setTimeout(()=>{e.remove(),window.location.reload()},1500)}}catch(e){console.log(e)}}(n,o,a,t,r,i)}()}),document.querySelector(".dashboard").appendChild(n)}))}();